(this.webpackJsonproerdal=this.webpackJsonproerdal||[]).push([[0],[,,,,,,function(e,t,n){e.exports={mainContainer:"ratings_mainContainer__1Ia15",selected:"ratings_selected__AtV7G",default:"ratings_default__ZnWit",topContainer:"ratings_topContainer__k6Jro",msg:"ratings_msg__2Obzy",gridContainer:"ratings_gridContainer__3O8MA",commentContainer:"ratings_commentContainer__Mc-Fm",listContainer:"ratings_listContainer__1tKhJ",listGridItem:"ratings_listGridItem__2FPvO",form:"ratings_form__1YGIN",formBtn:"ratings_formBtn__1w7vf"}},,,,,function(e,t,n){e.exports={loginform:"login_loginform__109Vz",loginbtn:"login_loginbtn__ulsA0",logoutbtn:"login_logoutbtn__fzyZY",red:"login_red__2mCeW",green:"login_green__NFGDb",required:"login_required__1cDCx",reqhidden:"login_reqhidden__1xxdj"}},,,,function(e,t,n){e.exports={formbtn:"form_formbtn__2eBg3",form:"form_form__3mg2W",error:"form_error__lOzWs",radio:"form_radio__1jJZP",radiolabel:"form_radiolabel__3sQWf",comment:"form_comment__1bq40",submit:"form_submit__xeKLf"}},function(e,t,n){e.exports={mainContainer:"attendingpage_mainContainer__30XgE",topContainer:"attendingpage_topContainer__2rjJ5",searchContainer:"attendingpage_searchContainer__3LDMz",listContainer:"attendingpage_listContainer__3fJIF",listGridItem:"attendingpage_listGridItem__3za50",routeText:"attendingpage_routeText__1bZ28",gridItem:"attendingpage_gridItem__9XcT9",gridContainer:"attendingpage_gridContainer__2kr0k",gridRunContainer:"attendingpage_gridRunContainer__KoURW"}},function(e,t,n){e.exports={menuToggle:"navbar_menuToggle__2rdQF",menu:"navbar_menu__3xxk_",menu_shown:"navbar_menu_shown__2OB3J",aside:"navbar_aside__2B9UR",aside_collapsed:"navbar_aside_collapsed__3HLDf","burger-container":"navbar_burger-container__3ilTM",burger_menu:"navbar_burger_menu__1Kp8m",burger_menu_collapsed:"navbar_burger_menu_collapsed__2lEVL"}},,function(e,t,n){e.exports={figurecontainer:"carousel_figurecontainer__3_t42",fade:"carousel_fade__Q78k2",cut:"carousel_cut__1T4YH",hide:"carousel_hide__2fQzo",caption:"carousel_caption__8VFRn",buttonleft:"carousel_buttonleft___DFRp",buttonright:"carousel_buttonright__3PRHh"}},function(e,t,n){e.exports={mainContainer:"frontpage_mainContainer__1kHjn",topContainer:"frontpage_topContainer__1hOZf",gridContainer:"frontpage_gridContainer__1H1ss",gridItem:"frontpage_gridItem__3Hj3F",routeText:"frontpage_routeText__NonkV",gridRunContainer:"frontpage_gridRunContainer__3escl"}},function(e,t,n){e.exports={mainContainer:"distancepage_mainContainer__1fmJW",topContainer:"distancepage_topContainer__1lPUO",image:"distancepage_image__29Ztw",gridContainer:"distancepage_gridContainer__3K8AC",gridItem:"distancepage_gridItem__2p21T",runContainer:"distancepage_runContainer__ozxru",routeText:"distancepage_routeText__2duSF",gridRunContainer:"distancepage_gridRunContainer__2mmkF"}},,function(e,t,n){e.exports={wrapper:"accordion_wrapper__3Am4i",accordion:"accordion_accordion__qXOET",shown:"accordion_shown__3X3ub",icon:"accordion_icon__24jae",hidden:"accordion_hidden__2oJUa"}},,,function(e,t,n){e.exports={mainContainer:"signuppage_mainContainer__3deUX",topContainer:"signuppage_topContainer__3_VTd",gridContainer:"signuppage_gridContainer__2KPzv"}},function(e,t,n){e.exports={notFound:"notfoundpage_notFound__2sEbf",rev:"notfoundpage_rev__PfHek",reg:"notfoundpage_reg__omlJJ"}},,,,,function(e,t,n){e.exports={mainContainer:"aboutpage_mainContainer__2VL8n",topContainer:"aboutpage_topContainer__2Qrct"}},,,,function(e,t,n){e.exports=n.p+"static/media/img1.509f394f.jpg"},function(e,t,n){e.exports=n.p+"static/media/img2.27290b53.jpg"},function(e,t,n){e.exports=n.p+"static/media/img3.a67196d7.jpg"},function(e,t,n){e.exports=n.p+"static/media/img4.16750838.jpg"},,function(e,t,n){e.exports=n.p+"static/media/img5.a176e644.jpg"},,function(e,t,n){e.exports=n(56)},,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(35),i=n.n(l),c=(n(48),n(13)),o=n(4),s=n(2),u=n.n(s),m=n(3),d=n(1),p=Object(a.createContext)(),g=function(e){var t=e.children,n=Object(a.useState)([]),l=Object(d.a)(n,2),i=l[0],c=l[1],o=Object(a.useState)([]),s=Object(d.a)(o,2),g=s[0],f=s[1],_=Object(a.useState)([]),E=Object(d.a)(_,2),b=E[0],v=E[1],h=Object(a.useState)(0),C=Object(d.a)(h,2),O=C[0],j=C[1],N=Object(a.useState)(!1),k=Object(d.a)(N,2),x=k[0],y=k[1],w=Object(a.useState)([]),D=Object(d.a)(w,2),S=D[0],I=D[1];function T(e){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}Object(a.useEffect)((function(){sessionStorage.getItem("token")&&c(JSON.parse(sessionStorage.getItem("token")))}),[c]);var q=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.mediehuset.net/rordal/pages/".concat(t),e.next=3,T(n);case 3:a=e.sent,f(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mediehuset.net/rordal/run",e.next=3,T("https://api.mediehuset.net/rordal/run");case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mediehuset.net/rordal/registrations",e.next=3,T("https://api.mediehuset.net/rordal/registrations");case 3:t=e.sent,I(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){A()}),[]),r.a.createElement(p.Provider,{value:{getPageContent:q,pageData:g,setPageData:f,doFetch:T,loginData:i,setLoginData:c,navOptions:{height:"50px",navlinks:[{main:"OM R\xd8RDAL RUN"},{main:"TILMELDING"},{main:"DISTANCER"},{main:"DELTAGERE"},{main:"KOMMENTER"},{main:"FORSIDE"}],search:!1,login:!0},allRunData:b,setSelectedRunID:j,selectedRunID:O,submitted:x,setSubmitted:y,allAttendants:S,setAllAttendants:I,getAllAttendants:F}},t)},f=n(12),_=n.n(f),E=n(29),b=n(19),v=n.n(b),h=n(7),C=n(36),O=n.n(C),j=n(37),N=n.n(j),k=n(38),x=n.n(k),y=n(39),w=n.n(y);var D=function(e){var t={item:[{img:O.a},{img:N.a},{img:x.a},{img:w.a}]},n=e.height,l=e.delay||1e3,i=Object(a.useState)(0),c=Object(d.a)(i,2),o=c[0],s=c[1],u={height:n||"40vh"},m=function(e){"decre"===e&&s(o-1<0?t.item.length-1:o-1);"incre"===e&&(o+1>=t.item.length?s(0):s(o+1))};return Object(a.useEffect)((function(){var e=setTimeout((function(){m("incre")}),l+"000");return function(){clearTimeout(e)}}),[o]),r.a.createElement("div",null,t.item.map((function(e,t){return o===t&&r.a.createElement("div",{key:t,className:v.a.hide},r.a.createElement("div",{className:v.a.cut}),r.a.createElement("section",null,r.a.createElement("figure",{className:v.a.figurecontainer,style:Object(E.a)(Object(E.a)({},u),{},{backgroundImage:"url(".concat(e.img,")")})},r.a.createElement(h.b,{className:v.a.buttonleft,onClick:function(){m("decre")}}),r.a.createElement(h.c,{className:v.a.buttonright,onClick:function(){m("incre")}})),r.a.createElement("figcaption",{className:v.a.caption},e.text)))})))},S=n(20),I=n.n(S);var T=function(){var e=Object(a.useContext)(p),t=e.getPageContent,n=e.setPageData,l=e.pageData,i=e.allRunData;return Object(a.useEffect)((function(){t(1),n(l)}),[]),r.a.createElement("section",{className:I.a.mainContainer},r.a.createElement(D,null),r.a.createElement("article",{className:I.a.gridContainer},r.a.createElement("div",{className:I.a.topContainer},r.a.createElement("h2",null,l.item&&l.item.title),r.a.createElement("p",null,l.item&&l.item.teaser)),r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:I.a.routeText},r.a.createElement("h2",null,"Ruter"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum")),r.a.createElement("span",null),r.a.createElement("section",{className:I.a.gridRunContainer},i.items&&i.items.map((function(e,t){return r.a.createElement("article",{key:t,className:I.a.gridItem},r.a.createElement("h2",null,e.title),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:_.a.sanitize((n=e.description,n.substring(0,180)+"..."))}}),r.a.createElement(c.b,{to:"/run/tilmelding"},r.a.createElement("button",null,"Tilmeld ",e.title)));var n}))))))},R=n(32),q=n.n(R);var A=function(){var e=Object(a.useContext)(p),t=e.getPageContent,n=e.setPageData,l=e.pageData;return Object(a.useEffect)((function(){t(4),n(l)}),[]),r.a.createElement("section",{className:q.a.mainContainer},r.a.createElement(D,null),r.a.createElement("div",{className:q.a.topContainer},r.a.createElement("h2",null,l.item&&l.item.title),l.item&&r.a.createElement("p",{dangerouslySetInnerHTML:{__html:_.a.sanitize(l.item.content)}})))},F=n(26),P=n.n(F),L=n(42),M=n(15),K=n.n(M);function z(e){return new Date(e).getTime()/1e3}function G(){return(G=Object(m.a)(u.a.mark((function e(t,n){var a,r,l,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,r=z(t.date),a.append("run_id",t.program),a.append("firstname",t.firstname),a.append("lastname",t.lastname),a.append("address",t.address),a.append("zipcode",t.area),a.append("city",t.city),a.append("email",t.email),a.append("phone",t.phone),a.append("birthdate",r),a.append("gender",t.gender),a.append("comment",t.comment),console.log(r),l={method:"POST",body:a,headers:{Authorization:"Bearer ".concat(n.access_token)}},"https://api.mediehuset.net/rordal/registrations",e.prev=16,e.next=19,fetch("https://api.mediehuset.net/rordal/registrations",l);case 19:return i=e.sent,e.next=22,i.json();case 22:c=e.sent,console.log(c),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(16),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[16,26]])})))).apply(this,arguments)}function J(e){var t=Object(L.a)(),n=t.register,l=t.handleSubmit,i=t.errors,c=Object(a.useContext)(p),o=c.loginData,s=c.setSubmitted,u=function(e){console.log(e),function(e,t){G.apply(this,arguments)}(e,o),s(!0)},m=e.formfields;return r.a.createElement("form",{className:K.a.form,onSubmit:l((function(e){return u(e)}))},m&&m.map((function(e,t){return r.a.createElement("div",{key:t},"radio"!=e.type&&e.label?r.a.createElement("label",null,e.label," ",i[e.name]&&r.a.createElement("span",{className:K.a.error},"* ")):null,"radio"==e.type&&e.label?r.a.createElement("label",{className:K.a.radiolabel},e.label," ",i[e.name]&&r.a.createElement("span",{className:K.a.error},"* ")):null,"input"==e.type&&r.a.createElement("input",{name:e.name,className:"comment"==e.name?K.a.comment:null,ref:n("email"==e.name?{required:!0,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}:e.req?{required:!0,pattern:/^[A-Za-z]+$/i}:"address"==e.name?{required:!0}:"area"==e.name?{required:!0,pattern:/^[0-9]*$/}:"date"==e.name?{required:!0}:"phone"==e.name?{required:!0,pattern:/^[0-9]*$/}:null)}),"radio"==e.type&&r.a.createElement("input",{className:K.a.radio,type:"radio",name:e.name,ref:n({required:!0})}),"select"==e.type&&r.a.createElement("select",{name:e.name,ref:n({required:!0})},r.a.createElement("option",{value:""},"V\xe6lg"),e.selectOptions&&e.selectOptions.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value,name:e.name},e.name)}))),"date"==e.type&&r.a.createElement("input",{name:"date",type:"date",ref:n({required:!0})}))})),r.a.createElement("div",{className:K.a.submit},r.a.createElement("input",{className:K.a.formbtn,type:"submit",value:"Tilmeld"})))}var U=function(){var e=Object(a.useContext)(p),t=e.getPageContent,n=e.setPageData,l=e.pageData,i=e.submitted;return Object(a.useEffect)((function(){t(3),n(l)}),[]),r.a.createElement("section",{className:P.a.mainContainer},r.a.createElement(D,null),r.a.createElement("article",{className:P.a.gridContainer},r.a.createElement("h2",null,l.item&&l.item.title),l.item&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:_.a.sanitize(l.item.content)}})),r.a.createElement("section",{className:P.a.formContainer},!i&&r.a.createElement(J,{formfields:[{name:"firstname",label:"Navn",type:"input",req:!0},{name:"lastname",label:"Efternavn",type:"input",req:!0},{name:"date",label:"F\xf8dselsdag",type:"date",req:!0},{name:"gender",label:"K\xf8n",type:"select",req:!0,selectOptions:[{name:"Mand",value:"m"},{name:"Kvinde",value:"f"}]},{name:"email",label:"Email",type:"input",req:!0},{name:"address",label:"Adresse",type:"input"},{name:"area",label:"Postnummer",type:"input"},{name:"city",label:"By",type:"input",req:!0},{name:"phone",label:"Telefon",type:"input"},{name:"program",label:"Program",type:"select",req:!0,selectOptions:[{name:"1 Mile",value:3},{name:"5 Km",value:2},{name:"10 Km",value:1}]},{name:"comment",label:"Kommentar",type:"input"}]}),i&&r.a.createElement("div",{className:P.a.gridContainer},r.a.createElement("h2",null,"Du er nu tilmeldt R\xf8rdal Run"),r.a.createElement("p",null,"Mange tak for din tilmelding. Du vil modtage en e-mail fra os med dit l\xf8benummer, samt informationer vedr. R\xf8rdal Run."),r.a.createElement("p",null,"Tak og vi ses!"))))},B=n(21),H=n.n(B),V=n(41),W=n.n(V);var Z=function(){var e=Object(a.useContext)(p),t=e.getPageContent,n=e.setPageData,l=e.pageData,i=e.allRunData,o=e.selectedRunID,s=e.setSelectedRunID;return Object(a.useEffect)((function(){s(0),t(2),n(l)}),[]),r.a.createElement("section",{className:H.a.mainContainer},r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement("article",{className:H.a.topContainer},r.a.createElement("h2",null,l.item&&l.item.title),l.item&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:_.a.sanitize(l.item.content)}})),r.a.createElement("section",{className:H.a.gridContainer},r.a.createElement("div",{className:H.a.gridItem},r.a.createElement("h2",null,"Distancebeskrivelse"),l.item&&l.item.teaser,r.a.createElement("ul",null,i.items&&i.items.map((function(e,t){return r.a.createElement("li",{key:t,id:e.id,onClick:function(e){s(e.target.id)}},e.title)})))),r.a.createElement("div",null,0==o?r.a.createElement("img",{alt:"Runners",className:H.a.image,src:W.a}):r.a.createElement("div",{className:H.a.runContainer},r.a.createElement("h2",null,i.items&&i.items[o-1].title),r.a.createElement(c.b,{to:"/run/tilmelding"},r.a.createElement("button",null,"Tilmeld dig ",i.items[o-1].title)),r.a.createElement("p",null,i.items&&i.items[o-1].description))))))},Q=n(27),X=n.n(Q);var $=function(){return r.a.createElement("div",{className:X.a.notFound},r.a.createElement("h1",{className:X.a.reg},"40"),r.a.createElement("h1",{className:X.a.rev},"4"),r.a.createElement("b",null,"Siden findes ikke!"),r.a.createElement("p",null,"Siden du leder efter findes ikke."),r.a.createElement(c.b,{to:"/run/forside"},r.a.createElement("button",null,"Tilbage til forsiden")))},Y=n(16),ee=n.n(Y);var te=function(){var e=Object(a.useContext)(p),t=e.getPageContent,n=e.setPageData,l=e.pageData,i=e.getAllAttendants,c=e.allAttendants,o=Object(a.useState)([]),s=Object(d.a)(o,2),g=s[0],f=s[1],E=Object(a.useState)("S\xf8g.."),b=Object(d.a)(E,2),v=b[0],C=b[1];function O(){return(O=Object(m.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mediehuset.net/rordal/search/"+v);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),a=n.items.map((function(e){return e})),f(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}Object(a.useEffect)((function(){t(5),n(l),i()}),[]),0==g.length&&c.items&&f(c.items);var j=function(e,t){console.log(g),console.log("It is not a number");var n=c.items.map((function(e){return e}));n=n.sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n,a){var r="string"===typeof n[e]?n[e].toUpperCase():n[e],l="string"===typeof a[e]?a[e].toUpperCase():a[e],i=0;return r>l?i=1:r<l&&(i=-1),"desc"===t?-1*i:i}}(e,t)),f(n)},N=function(e,t){console.log(g),console.log("It is a number");var n=c.items.map((function(e){return e}));n=n.sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n,a){var r="number"===typeof n[e]?Number(n[e]):parseInt(n[e]),l="number"===typeof a[e]?Number(a[e]):parseInt(a[e]),i=0;return r>l?i=1:r<l&&(i=-1),"desc"===t?-1*i:i}}(e,t)),f(n)},k=function(e,t){var n=c.items.map((function(e){return e})).filter((function(n){return n[e].toLowerCase()==="".concat(t)}));f(n)};return r.a.createElement("section",{className:ee.a.mainContainer},r.a.createElement(D,null),r.a.createElement("div",{className:ee.a.topContainer},r.a.createElement("h2",null,l.item&&l.item.title," til R\xf8rdal Run"),l.item&&r.a.createElement("p",{dangerouslySetInnerHTML:{__html:_.a.sanitize(l.item.content)}})),r.a.createElement("div",{className:ee.a.searchContainer},r.a.createElement("select",{onChange:function(e){k("run_id",e.target.value)}},r.a.createElement("option",null,"Alle"),r.a.createElement("option",{value:"3"},"1 Mile"),r.a.createElement("option",{value:"2"},"5 Km"),r.a.createElement("option",{value:"1"},"10 Km")),r.a.createElement("select",{onChange:function(e){k("gender",e.target.value)}},r.a.createElement("option",null,"M\xe6nd/kvinder"),r.a.createElement("option",{value:"m"},"M\xe6nd"),r.a.createElement("option",{value:"f"},"Kvinder")),r.a.createElement("div",null,r.a.createElement("input",{value:v,onClick:function(){C("")},onChange:function(e){C(e.target.value.toLowerCase())}}),r.a.createElement("button",{onClick:function(){!function(){O.apply(this,arguments)}()}},"S\xf8g"))),r.a.createElement("div",{className:ee.a.listContainer},r.a.createElement("div",{className:ee.a.listGridItem},r.a.createElement("div",null,r.a.createElement("p",null,"Startnr"),r.a.createElement(h.d,{onClick:function(){N("id","asc")}},"Up"),r.a.createElement(h.a,{onClick:function(){N("id","desc")}},"Down")),r.a.createElement("div",null,r.a.createElement("p",null,"Deltager"),r.a.createElement(h.d,{onClick:function(){j("firstname","asc")}},"Up"),r.a.createElement(h.a,{onClick:function(){j("firstname","desc")}},"Down")),r.a.createElement("div",null,r.a.createElement("p",null,"By"),r.a.createElement(h.d,{onClick:function(){j("city","asc")}},"Up"),r.a.createElement(h.a,{onClick:function(){j("city","desc")}},"Down")),r.a.createElement("div",null,r.a.createElement("p",null,"Distance"),r.a.createElement(h.d,{onClick:function(){j("run_id","asc")}},"Up"),r.a.createElement(h.a,{onClick:function(){j("run_id","desc")}},"Down"))),r.a.createElement("ul",{className:ee.a.listGridItem},r.a.createElement("li",null,"Start nr:"),r.a.createElement("li",null,"Navn:"),r.a.createElement("li",null,"By:"),r.a.createElement("li",null,"Distance:")),g.length>0&&g.map((function(e,t){return r.a.createElement("ul",{key:t,className:ee.a.listGridItem},r.a.createElement("li",null,e.id),r.a.createElement("li",null,e.firstname+" "+e.lastname),r.a.createElement("li",null,e.city),r.a.createElement("li",null,function(e){switch(e){case"1":return"10 Km";case"2":return"5 Km";case"3":return"1 Mile";default:return"G\xe5r istedet"}}(e.run_id)))}))))},ne=n(11),ae=n.n(ne);var re=function(){var e=Object(a.useContext)(p),t=e.loginData,n=e.setLoginData,l=Object(a.useState)(""),i=Object(d.a)(l,2),c=i[0],o=i[1],s=Object(a.useState)(""),u=Object(d.a)(s,2),m=u[0],g=u[1],f=Object(a.useState)(!0),_=Object(d.a)(f,2),E=_[0],b=_[1],v=Object(a.useState)(!0),h=Object(d.a)(v,2),C=h[0],O=h[1],j=Object(a.useState)("Indtast login oplysninger"),N=Object(d.a)(j,2),k=N[0],x=N[1],y=function(e){g(""),o(""),e.message||(n(e),console.log(e),sessionStorage.setItem("token",JSON.stringify(e),{expires:7})),"No authorization"===e.message&&x("Forkert brugernavn eller password - pr\xf8v igen")};return Object(a.useEffect)((function(){sessionStorage.getItem("token")&&n(JSON.parse(sessionStorage.getItem("token")))}),[]),Object(a.useEffect)((function(){""==c&&b(!0),""==m&&O(!0),""==!c&&b(!1),""==!m&&O(!1)}),[c,m]),r.a.createElement("section",{className:ae.a.loginform},r.a.createElement("p",null,t&&t.username?"Du er logget ind som ".concat(t.username):k),r.a.createElement("form",null,t&&!t.user_id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Email/brugernavn ",r.a.createElement("span",{className:E&&t&&!t.user_id?ae.a.required:ae.a.reqhidden},"*")),r.a.createElement("input",{className:E&&t&&!t.user_id?ae.a.red:ae.a.green,type:"username",value:c,onChange:function(e){o(e.target.value)},required:!0,placeholder:"Indtast din email"}),r.a.createElement("label",null,"Adgangskode ",r.a.createElement("span",{className:C&&t&&!t.user_id?ae.a.required:ae.a.reqhidden},"*")),r.a.createElement("input",{className:C&&t&&!t.user_id?ae.a.red:ae.a.green,type:"password",value:m,onChange:function(e){g(e.target.value)},required:!0,placeholder:"Indtast din adgangskode"}),r.a.createElement("button",{className:ae.a.loginbtn,onClick:function(e){return function(e){e.preventDefault();var t=new FormData;t.append("username",c),t.append("password",m);console.log(t),fetch("https://api.mediehuset.net/token",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){return y(e)})).catch((function(e){return x(e)}))}(e)}},"LOG IND")),t&&t.user_id&&r.a.createElement("button",{className:ae.a.logoutbtn,onClick:function(){return function(){n([]),sessionStorage.removeItem("token"),x("Du er nu logget ud");var e=setTimeout((function(){x("Indtast login oplysninger"),clearTimeout(e)}),3500)}()}},"LOG UD")))},le=n(17),ie=n.n(le),ce=n(23),oe=n.n(ce);var se=function(e){var t=e.child||"No child content selected",n=e.title||"Accordian",l=Object(a.useState)(!1),i=Object(d.a)(l,2),c=i[0],o=i[1];return r.a.createElement("section",{className:oe.a.wrapper},r.a.createElement("span",{className:oe.a.accordion,onClick:function(){o(!c)}},n,r.a.createElement("span",{className:oe.a.icon},c?r.a.createElement(h.d,null):r.a.createElement(h.a,null))),r.a.createElement("article",{className:c?oe.a.shown:oe.a.hidden},t))};var ue=function(){var e=Object(a.useContext)(p).navOptions,t=Object(a.useState)(!1),n=Object(d.a)(t,2),l=n[0],i=n[1],o=e,s=o.navlinks,u=o.login;return r.a.createElement("nav",{className:ie.a.menuToggle},r.a.createElement("div",null,r.a.createElement("div",{id:"burger",className:l?ie.a.burger_menu_collapsed:ie.a.burger_menu,onClick:function(){i(!l)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("aside",{className:l?ie.a.aside_collapsed:ie.a.aside},r.a.createElement("ul",{className:l?ie.a.menu_shown:ie.a.menu},s&&s.map((function(e,t){return e.sub?null:r.a.createElement(c.b,{onClick:function(){i(!1)},key:t,to:"/run/"+e.main.toLowerCase()},e.main)})),u&&r.a.createElement(se,{title:"LOGIN",child:r.a.createElement(re,null)}))))},me=n(6),de=n.n(me);var pe=function(){var e=Object(a.useContext)(p),t=e.doFetch,n=e.loginData,l=Object(a.useState)([]),i=Object(d.a)(l,2),c=i[0],o=i[1],s=Object(a.useState)([]),g=Object(d.a)(s,2),f=g[0],_=g[1],E=Object(a.useState)(0),b=Object(d.a)(E,2),v=b[0],h=b[1],C=Object(a.useState)(""),O=Object(d.a)(C,2),j=O[0],N=O[1],k=Object(a.useState)(0),x=Object(d.a)(k,2),y=x[0],w=x[1],S=Object(a.useState)(""),I=Object(d.a)(S,2),T=I[0],R=I[1],q=function(){var e=Object(m.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.mediehuset.net/rordal/ratings/list/".concat(n),e.next=3,t(a);case 3:r=e.sent,o(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.mediehuset.net/rordal/ratings/average/".concat(n),e.next=3,t(a);case 3:r=e.sent,_(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://api.mediehuset.net/rordal/ratings",(t=new FormData).append("num_stars",parseInt(y)),t.append("run_id",parseInt(v)),t.append("comment",j),a={method:"POST",body:t,headers:{Authorization:"Bearer ".concat(n.access_token)}},fetch("https://api.mediehuset.net/rordal/ratings",a).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then(R("Vi har modtaget din bed\xf8mmelse")).then(N("")).catch((function(e){return console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){h(e),A(e),q(e)};return Object(a.useEffect)((function(){P(v);var e=setTimeout((function(){R(""),""==T&&clearTimeout(e)}),2e3)}),[T]),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:de.a.mainContainer},r.a.createElement(D,null),r.a.createElement("div",{className:de.a.topContainer},r.a.createElement("h2",null,"Kommentarer fra R\xf8rdal Runners"),r.a.createElement("p",null,"Her kan du kommentere et l\xf8b eller se hvad andre l\xf8bere har sagt om vores ruter")),r.a.createElement("section",{className:de.a.gridContainer},r.a.createElement("div",null,r.a.createElement("h3",{className:3==v?de.a.selected:de.a.default,onClick:function(){P(3)}},"1 Mile")),r.a.createElement("div",null,r.a.createElement("h3",{className:2==v?de.a.selected:de.a.default,onClick:function(){P(2)}},"5 Km")),r.a.createElement("div",null,r.a.createElement("h3",{className:1==v?de.a.selected:de.a.default,onClick:function(){P(1)}},"10 Km"))),0==!v&&r.a.createElement("section",null,r.a.createElement("b",{className:de.a.msg},T),r.a.createElement("div",{className:de.a.form},r.a.createElement("div",null,r.a.createElement("label",null,"Antal stjerner"),r.a.createElement("select",{onChange:function(e){w(e.target.value)}},r.a.createElement("option",null,"V\xe6lg antal stjerner"),r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"))),r.a.createElement("div",null,r.a.createElement("label",null,"Din kommentar"),r.a.createElement("input",{value:j,onClick:function(){return N("")},onChange:function(e){N(e.target.value)}})),n.access_token?r.a.createElement("button",{className:de.a.formBtn,onClick:function(){return F()}},"Send"):r.a.createElement("p",null,"Du skal v\xe6re logget ind for at bed\xf8mme"))),r.a.createElement("section",{className:de.a.commentContainer},r.a.createElement("div",null,r.a.createElement("ul",{className:de.a.listContainer},c.items&&c.items.map((function(e,t){return r.a.createElement("li",{className:de.a.listGridItem},r.a.createElement("p",null,"Kommentar: ",e.comment),r.a.createElement("p",null,"Antal stjerner: ",e.num_stars),"                    ")})),c.items&&r.a.createElement("li",{className:de.a.listGridItem},r.a.createElement("p",null,"Gennemsnit: "),r.a.createElement("p",null,f&&Math.floor(f.average_num_stars)," stjerner")))))))};n(55);var ge=function(){return r.a.createElement(c.a,null,r.a.createElement(ue,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/run/forside"},r.a.createElement(T,null)),r.a.createElement(o.a,{exact:!0,path:"/run/om r\xf8rdal run"},r.a.createElement(A,null)),r.a.createElement(o.a,{exact:!0,path:"/run/kommenter"},r.a.createElement(pe,null)),r.a.createElement(o.a,{exact:!0,path:"/run/tilmelding"},r.a.createElement(U,null)),r.a.createElement(o.a,{exact:!0,path:"/run/deltagere"},r.a.createElement(te,null)),r.a.createElement(o.a,{exact:!0,path:"/run/distancer"},r.a.createElement(Z,null)),r.a.createElement(o.a,{exact:!0,path:"/run/"},r.a.createElement(T,null)),r.a.createElement(o.a,{path:"/*"},r.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[43,1,2]]]);
//# sourceMappingURL=main.2bb6cd98.chunk.js.map